@import url("https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600&display=swap");

:root {
    --sl-content-width: 50rem;
    --sl-text-h1: var(--sl-text-4xl);
    --sl-text-h2: var(--sl-text-2xl);
    --sl-text-h3: var(--sl-text-xl);
    --sl-text-h4: var(--sl-text-lg);
    --sl-text-h5: var(--sl-text-base);

    /* Vitest UI palette - dark mode (Starlight default) */
    --sl-color-black: #141414;
    --sl-color-gray-1: #ddd;
    --sl-color-gray-2: #bbb;
    --sl-color-gray-3: #888;
    --sl-color-gray-4: #555;
    --sl-color-gray-5: #2a2a2a;
    --sl-color-gray-6: #1a1a1a;
    --sl-color-white: #d5cfc2;

    /* Desaturated purples */
    --sl-color-purple-low: hsl(281, 20%, 22%);
    --sl-color-purple: hsl(281, 40%, 70%);
    --sl-color-purple-high: hsl(281, 35%, 85%);

    /* Green accent from Vitest */
    --sl-color-accent-low: #0d3320;
    --sl-color-accent: #25d96c;
    --sl-color-accent-high: #7ae8a8;

    /* Badges - soft grayish yellow */
    --sl-badge-default-border: #a09060;
    --sl-badge-default-bg: #2a2618;
    --sl-badge-default-text: #d4c99a;

    /* Text gradient */
    --text-gradient: linear-gradient(
        315deg,
        var(--sl-color-accent) 25%,
        #41d1ff
    );

    /* Code syntax highlighting - dark mode */
    --code-foreground: #d4cfbf;
    --code-background: #111;
    --code-comment: #758575;
    --code-string: #d48372;
    --code-literal: #429988;
    --code-keyword: #4d9375;
    --code-boolean: #1c6b48;
    --code-number: #6394bf;
    --code-variable: #c2b36e;
    --code-function: #a1b567;
    --code-deleted: #a14f55;
    --code-class: #54b1bf;
    --code-builtin: #e0a569;
    --code-property: #dd8e6e;
    --code-namespace: #db889a;
    --code-punctuation: #858585;
    --code-decorator: #bd8f8f;
    --code-regex: #ab5e3f;
    --code-constant: #e0a569;
}

:root[data-theme="light"] {
    /* Vitest UI palette - light mode */
    --sl-color-black: #fff;
    --sl-color-gray-1: #1a1a1a;
    --sl-color-gray-2: #333;
    --sl-color-gray-3: #666;
    --sl-color-gray-4: #999;
    --sl-color-gray-5: #d4d4d4;
    --sl-color-gray-6: #e4e4e4;
    --sl-color-gray-7: #f0f0f0;
    --sl-color-white: #3d3528;

    /* Desaturated purples (light) */
    --sl-color-purple-high: hsl(281, 30%, 35%);
    --sl-color-purple: hsl(281, 35%, 55%);
    --sl-color-purple-low: hsl(281, 25%, 90%);

    /* Badges - soft grayish yellow (light) */
    --sl-badge-default-border: #8a7d50;
    --sl-badge-default-bg: #8a7d50;
    --sl-badge-default-text: #fff;

    /* Green accent - light mode */
    --sl-color-accent-low: #d5f5e3;
    --sl-color-accent: #1a9f50;
    --sl-color-accent-high: #0d5c2e;

    /* Code syntax highlighting - light mode */
    --code-foreground: #393a34;
    --code-background: #fff;
    --code-comment: #a0ada0;
    --code-string: #b56959;
    --code-literal: #2f8a89;
    --code-keyword: #1c6b48;
    --code-boolean: #1c6b48;
    --code-number: #296aa3;
    --code-variable: #b58451;
    --code-function: #6c7834;
    --code-deleted: #a14f55;
    --code-class: #2993a3;
    --code-builtin: #ab5959;
    --code-property: #b58451;
    --code-namespace: #b05a78;
    --code-punctuation: #8e8f8b;
    --code-decorator: #bd8f8f;
    --code-regex: #ab5e3f;
    --code-constant: #a65e2b;
}

main {
    font-family: "Exo 2", sans-serif;
}

[data-has-hero] .hero h1 {
    background: var(--text-gradient);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.site-title {
    color: var(--sl-color-accent);
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: -0.02em;
}

.main-pane .hero > img {
    width: 200px;
}

/* Card entry animation */
@keyframes card-enter {
    from {
        opacity: 0;
        translate: 0 20px;
    }
    to {
        opacity: 1;
        translate: 0 0;
    }
}
.card {
    animation: card-enter 0.4s ease-out both;
}
.card:nth-child(1) {
    animation-delay: 0s;
}
.card:nth-child(2) {
    animation-delay: 0.1s;
}
.card:nth-child(3) {
    animation-delay: 0.2s;
}
.card:nth-child(4) {
    animation-delay: 0.3s;
}

/* Clickable cards */
.card {
    position: relative;
    cursor: pointer;
    transition:
        background-color 0.2s,
        border-color 0.2s;
}
article.card:hover {
    background-color: var(--sl-color-gray-6);
    border-color: var(--sl-card-border);
}
.card .body a:last-child {
    position: static;
}
.card .body a:last-child::after {
    content: "";
    position: absolute;
    inset: 0;
}
.card .body a:last-child {
    color: var(--sl-color-white);
}
.card:hover .body a:last-child {
    color: var(--sl-color-accent);
}

/* Card badges match card icon colors */
.card:nth-child(4n + 1) .sl-badge {
    --sl-color-bg-badge: var(--sl-color-orange-low);
    --sl-color-border-badge: var(--sl-color-orange);
    --sl-color-text-badge: var(--sl-color-orange-high);
}
.card:nth-child(4n + 2) .sl-badge {
    --sl-color-bg-badge: var(--sl-color-purple-low);
    --sl-color-border-badge: var(--sl-color-purple);
    --sl-color-text-badge: var(--sl-color-purple-high);
}
.card:nth-child(4n + 3) .sl-badge {
    --sl-color-bg-badge: var(--sl-color-green-low);
    --sl-color-border-badge: var(--sl-color-green);
    --sl-color-text-badge: var(--sl-color-green-high);
}
.card:nth-child(4n + 4) .sl-badge {
    --sl-color-bg-badge: var(--sl-color-red-low);
    --sl-color-border-badge: var(--sl-color-red);
    --sl-color-text-badge: var(--sl-color-red-high);
}

/* Sidebar spacing */
.sidebar-content li {
    margin-top: 0.15rem;
}

/* Sidebar links */
.sidebar-content a {
    transition:
        color 0.15s,
        background-color 0.15s;
}
.sidebar-content a:hover:not([aria-current="page"]) {
    color: var(--sl-color-accent);
    background-color: var(--sl-color-gray-5);
}
.sidebar-content a[aria-current="page"] {
    animation: active-yellow-to-accent 0.6s ease forwards;
}
@keyframes active-yellow-to-accent {
    0% {
        background-color: #e8b830;
    }
    100% {
        background-color: var(--sl-color-text-accent);
    }
}

/* Code blocks - override Shiki inline background */
.sl-markdown-content pre {
    background-color: var(--code-background) !important;
    border-radius: 0.25rem;
    border-color: color-mix(in srgb, var(--sl-color-gray-5), transparent 50%);
    transition: background-color 0.2s;
}
.sl-markdown-content pre:focus-within,
.sl-markdown-content pre:hover {
    background-color: color-mix(
        in srgb,
        var(--code-background),
        #000 3%
    ) !important;
}

/* Pagination */
.pagination-links a {
    border-radius: 0;
}

.sl-link-button.primary {
    background: #e8b830;
    border-color: #e8b830;
    color: #1a1a1a;
}

.sl-link-button.primary:hover {
    background: #f0c840;
    border-color: #f0c840;
}
